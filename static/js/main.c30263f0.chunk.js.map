{"version":3,"sources":["components/Modal/Modal.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/BtnMore/BtnMore.js","components/Modal/Modal.js","services/image-service.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleInput","event","setState","target","value","handleFormSubmit","preventDefault","props","onFormSubmit","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","onImageClick","src","handleImgClick","webformatURL","alt","onClick","largeImageURL","ImageGallery","images","map","id","BtnMore","onBtn","modalRoot","document","querySelector","Modal","handleEscape","code","toggleModal","handleBackdrop","currentTarget","window","addEventListener","removeEventListener","createPortal","styles","backdrop","content","children","imagesApi","fetchImages","currentQuery","currentPage","axios","get","then","data","hits","App","isLoading","showModal","populateImages","prevState","finally","handleMoreClick","scrollTo","top","documentElement","scrollHeight","behavior","bigImg","prevProps","length","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c30263f0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3FAPo\",\"content\":\"Modal_content__1VIbZ\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  static propTypes = {\n    onFormSubmit: PropTypes.func.isRequired,\n  };\n  handleInput = event => {\n    this.setState({ query: event.target.value });\n  };\n  handleFormSubmit = event => {\n    const { query } = this.state;\n    event.preventDefault();\n\n    this.props.onFormSubmit(query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleFormSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInput}\n            value={this.state.query}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\n\nclass ImageGalleryItem extends Component {\n  state = {};\n  onImageClick = src => {\n    this.props.handleImgClick(src);\n  };\n\n  render() {\n    return (\n      <li className=\"ImageGalleryItem\">\n        <img\n          src={this.props.webformatURL}\n          alt=\"\"\n          className=\"ImageGalleryItem-image\"\n          onClick={() => this.onImageClick(this.props.largeImageURL)}\n        />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, handleImgClick }) => (\n  <ul className=\"ImageGallery\">\n    {images.map(({ id, webformatURL, largeImageURL }) => (\n      <ImageGalleryItem\n        handleImgClick={handleImgClick}\n        key={id}\n        largeImageURL={largeImageURL}\n        webformatURL={webformatURL}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n  handleImgClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst BtnMore = ({ onBtn }) => (\n  <button className=\"Button\" type=\"button\" onClick={onBtn}>\n    Load more\n  </button>\n);\n\nBtnMore.propTypes = {\n  onBtn: PropTypes.func.isRequired,\n};\n\nexport default BtnMore;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  state = {};\n\n  static propTypes = {\n    toggleModal: PropTypes.func.isRequired,\n    children: PropTypes.node.isRequired,\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscape);\n  }\n\n  handleEscape = event => {\n    if (event.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscape);\n  }\n\n  handleBackdrop = event => {\n    if (event.target === event.currentTarget) {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.backdrop} onClick={this.handleBackdrop}>\n        <div className={styles.content}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\n// axios.defaults.headers.common['Authorization'] = '7';\n\nconst fetchImages = ({ currentQuery, currentPage = '1' }) =>\n  axios\n    .get(\n      `https://pixabay.com/api/?q=${currentQuery}&page=${currentPage}&key=21704664-f3a5361496563a8a6716b3b47&image_type=photo&orientation=horizontal&per_page=12\n`,\n    )\n    .then(({ data }) => data.hits);\n\nconst imagesApi = {\n  fetchImages,\n};\n\nexport default imagesApi;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport BtnMore from './components/BtnMore';\nimport Modal from './components/Modal';\nimport imagesApi from './services/image-service';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nclass App extends Component {\n  state = { currentQuery: '', currentPage: 1, images: [], isLoading: false, showModal: false };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.currentQuery !== this.state.currentQuery) {\n      this.populateImages();\n    }\n  }\n\n  onFormSubmit = query => {\n    this.setState({ currentQuery: query, currentPage: 1, images: [] });\n  };\n\n  populateImages = () => {\n    this.setState({ isLoading: true });\n    const { currentQuery, currentPage } = this.state;\n    imagesApi\n      .fetchImages({ currentQuery, currentPage })\n      .then(images => {\n        this.setState(prevState => ({\n          currentPage: prevState.currentPage + 1,\n          images: [\n            ...prevState.images,\n            ...images.map(({ id, webformatURL, largeImageURL }) => ({\n              id,\n              webformatURL,\n              largeImageURL,\n            })),\n          ],\n        }));\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleMoreClick = () => {\n    this.populateImages();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  handleImgClick = src => {\n    this.setState({ bigImg: src, showModal: true });\n  };\n  toggleModal = event => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { isLoading, showModal, bigImg } = this.state;\n    return (\n      <div>\n        {showModal && (\n          <Modal toggleModal={this.toggleModal}>\n            <img src={bigImg} alt=\"\" />\n          </Modal>\n        )}\n        <Searchbar onFormSubmit={this.onFormSubmit} />\n        {this.state.images.length > 0 && (\n          <>\n            <ImageGallery handleImgClick={this.handleImgClick} images={this.state.images} />\n            {isLoading ? (\n              <Loader\n                type=\"Circles\"\n                color=\"#bd2745\"\n                height={70}\n                width={70}\n                timeout={3000}\n                className=\"Spinner\"\n              />\n            ) : (\n              <BtnMore onBtn={this.handleMoreClick} />\n            )}\n          </>\n        )}\n        {isLoading && this.state.images.length === 0 && (\n          <Loader\n            type=\"Circles\"\n            color=\"#bd2745\"\n            height={70}\n            width={70}\n            timeout={3000}\n            className=\"Spinner\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}